<!DOCTYPE html>
<%@ page contentType="text/html;charset=windows-1252"%>
<html>
<head>
	<title>Hello, World!</title>

	<!-- Sets the basepath for the library if not in same directory -->
	<script type="text/javascript">
		mxBasePath = 'mxgraph';
	</script>

	<!-- Loads and initializes the library -->
	<script type="text/javascript" src="mxgraph/js/mxClient.js"></script>

	<!-- Example code -->
	<script type="text/javascript">
		// Program starts here. Creates a sample graph in the
		// DOM node with the specified ID. This function is invoked
		// from the onLoad event handler of the document (see below).
		function main(container)
		{
			// Checks if the browser is supported
			if (!mxClient.isBrowserSupported())
			{
				// Displays an error message if the browser is not supported.
				mxUtils.error('Browser is not supported!', 200, false);
			}
			else
			{
				// Creates the graph inside the given container
				var graph = new mxGraph(container);
				
				// Adds rubberband selection to the graph
				new mxRubberband(graph);
			
                     
                      var xml ="<root><mxCell id='2' vertex='1' value='Start' style='symbol;image=mxgraph/images/symbols/link.png'><mxGeometry x='20' y='20' width='80' height='30' as='geometry'/></mxCell><mxCell id='3' value='Get Monitor URL' vertex='1' style='symbol;image=mxgraph/images/symbols/rule.png'><mxGeometry x='120' y='20' width='100' height='30' as='geometry'/></mxCell><mxCell id='4' value='1. Lookup Project Setup Specialist' vertex='1' style='symbol;image=mxgraph/images/box.png'><mxGeometry x='250' y='20' width='200' height='30' as='geometry'/></mxCell><mxCell id='5' value='Get Portal User Contact info' vertex='1' style='symbol;image=mxgraph/images/cylinder.png'><mxGeometry x='470' y='20' width='180' height='30' as='geometry'/></mxCell><mxCell id='6' value='Add Audit Submit Record' vertex='1' style='symbol;image=mxgraph/images/cylinder.png'><mxGeometry x='670' y='20' width='180' height='30' as='geometry'/></mxCell><mxCell id='7' value='Get PO Data' vertex='1'><mxGeometry x='880' y='20' width='100' height='30' as='geometry' style='symbol;image=mxgraph/images/gear.png'/></mxCell><mxCell id='8' value='Wait' vertex='1'><mxGeometry x='890' y='80' width='70' height='30' as='geometry' style='symbol;image=mxgraph/images/server.png'/></mxCell><mxCell id='9' value='Set Object Editable' vertex='1'><mxGeometry x='990' y='80' width='110' height='30' as='geometry' style='symbol;image=mxgraph/images/cylinder.png'/></mxCell><mxCell id='10' value='Get Workflow Status Rejected' vertex='1'><mxGeometry x='1120' y='80' width='200' height='30' as='geometry' style='symbol;image=mxgraph/images/cube_green.png'/></mxCell><mxCell id='11' value='Get Portal User Contact info' vertex='1'><mxGeometry x='1340' y='80' width='200' height='30' as='geometry' style='symbol;image=mxgraph/images/package.png'/></mxCell><mxCell id='12' value='Mark PO as Unapproved' vertex='1' ><mxGeometry x='1560' y='80' width='160' height='30' as='geometry' style='symbol;image=mxgraph/images/cylinder.png'/></mxCell><mxCell id='13' value='PO Rejected FYI Notification' vertex='1' ><mxGeometry x='1740' y='80' width='200' height='30' as='geometry' style='symbol;image=mxgraph/images/cube_green.png'/></mxCell><mxCell id='14' value='End' vertex='1'><mxGeometry x='1790' y='20' width='80' height='30' as='geometry' style='symbol;image=mxgraph/images/symbols/cancel_end.png'/></mxCell><mxCell id='15' value='' edge='1' source='2' target='3'><mxGeometry relative='1' as='geometry'/></mxCell><mxCell id='16' value='' edge='1' source='3' target='4'><mxGeometry relative='1' as='geometry'/></mxCell><mxCell id='17' value='' edge='1' source='4' target='5'><mxGeometry relative='1' as='geometry'/></mxCell><mxCell id='18' value='' edge='1' source='5' target='6'><mxGeometry relative='1' as='geometry'/></mxCell><mxCell id='19' value='' edge='1' source='6' target='7'><mxGeometry relative='1' as='geometry'/></mxCell><mxCell id='20' value='' edge='1' source='7' target='8'><mxGeometry relative='1' as='geometry'/></mxCell><mxCell id='21' value='' edge='1' source='8' target='9'><mxGeometry relative='1' as='geometry'/></mxCell><mxCell id='22' value='' edge='1' source='9' target='10'><mxGeometry relative='1' as='geometry'/></mxCell><mxCell id='23' value='' edge='1' source='10' target='11'><mxGeometry relative='1' as='geometry'/></mxCell><mxCell id='24' value='' edge='1' source='11' target='12'><mxGeometry relative='1' as='geometry'/></mxCell><mxCell id='25' value='' edge='1' source='12' target='13'><mxGeometry relative='1' as='geometry'/></mxCell><mxCell id='26' value='' edge='1' source='13' target='14'><mxGeometry relative='1' as='geometry'/></mxCell></root>";
				var doc = mxUtils.parseXml(xml);
				var codec = new mxCodec(doc);
                                var elt = doc.documentElement.firstChild;
                                var cells = [];
                                while (elt != null)
                                {
                                  cells.push(codec.decode(elt));
                                  elt = elt.nextSibling;
                                }
                                graph.addCells(cells);
			}
		};
	</script>
      
</head>

<!-- Page passes the container for the graph to the program -->
<body onload="main(document.getElementById('graphContainer'));">

	<!-- Creates a container for the graph with a grid wallpaper -->
	<div id="graphContainer" style="overflow:auto;position:relative;background:url('mxgraph/images/grid.gif');cursor:default;">
	</div>
</body>
</html>